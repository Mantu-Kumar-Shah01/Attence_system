{% extends "admin/base.html" %}
{% load static %}

{% block title %}Admin Dashboard - Employee Management{% endblock %}

{% block extrastyle %}
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,600,700&display=swap">

<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --bg: #0f172a;
        --panel: #111827;
        --panel-2: #0b1220;
        --text: #e5e7eb;
        --muted: #94a3b8;
        --brand: #3b82f6;
        --brand-600: #2563eb;
        --accent: #22c55e;
        --warn: #ef4444;
        --border: #1f2937;
    }

    html, body {
        height: 100%;
        background: radial-gradient(1200px 600px at 20% -10%, #1f2937 0%, var(--bg) 60%),
                    radial-gradient(800px 500px at 110% 10%, #1f2937 0%, var(--bg) 50%),
                    var(--bg);
        color: var(--text);
        font-family: 'Roboto', Arial, sans-serif;
    }

    /* Hide default admin header, footer and submit-row */
    #header, #footer-line, .submit-row {
        display: none;
    }

    /* Custom fixed header */
    body::before {
        content: '';
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 70px;
        background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0));
        border-bottom: 1px solid var(--border);
        z-index: 1000;
        {% comment %} backdrop-filter: blur(8px); {% endcomment %}
    }

    #content {
        margin-top: 80px;
        padding: 30px;
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
    }

    /* Hide sidebar and toggle button */
    #sidebar {
        display: none !important;
    }
    .toggle-nav-sidebar {
        display: none !important;
    }

    /* Main content styling */
    .module {
        background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0));
        border: 1px solid var(--border);
        border-radius: 14px;
        margin-bottom: 20px;
        overflow: hidden;
    }

    .module h2 {
        background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0));
        color: var(--brand);
        border-bottom: 1px solid var(--border);
        padding: 16px 20px;
        margin: 0;
        font-size: 18px;
        font-weight: 600;
    }

    .module table {
        width: 100%;
        border-collapse: collapse;
    }

    .module thead th {
        background: var(--panel-2);
        color: var(--brand);
        padding: 12px 16px;
        text-align: left;
        font-weight: 600;
        border-bottom: 1px solid var(--border);
    }

    .module tbody tr {
        border-bottom: 1px solid var(--border);
        transition: background 0.2s ease;
    }

    .module tbody tr:hover {
        background: rgba(255, 255, 255, 0.02);
    }

    .module td {
        padding: 12px 16px;
        color: var(--text);
    }

    .module a {
        color: var(--brand);
        text-decoration: none;
        transition: 0.2s;
    }

    .module a:hover {
        color: var(--accent);
    }

    /* Buttons */
    .button, input[type="submit"], a.button {
        display: inline-block;
        background: linear-gradient(180deg, var(--brand), var(--brand-600));
        color: white;
        border: 1px solid #1d4ed8;
        border-radius: 8px;
        padding: 10px 16px;
        cursor: pointer;
        text-decoration: none;
        transition: 0.2s;
        font-weight: 600;
    }
    .button:hover, input[type="submit"]:hover, a.button:hover {
        background: var(--brand-600);
        transform: translateY(-1px);
    }

    .deletelink {
        color: var(--warn) !important;
    }
    .deletelink:hover {
        color: #dc2626 !important;
    }

    /* Forms */
    input, textarea, select {
        background: var(--panel);
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 10px 12px;
        font-family: inherit;
        transition: 0.2s;
    }
    input:focus, textarea:focus, select:focus {
        border-color: var(--brand);
        box-shadow: 0 0 8px rgba(59, 130, 246, 0.25);
        outline: none;
    }
    label {
        color: var(--text);
        margin-bottom: 6px;
        display: block;
    }
    .form-row {
        margin-bottom: 20px;
    }

    /* Messages */
    .messagelist {
        margin-bottom: 20px;
    }
    .messagelist li {
        background: rgba(34, 197, 94, 0.15);
        border-left: 4px solid var(--accent);
        color: #86efac;
        padding: 12px 16px;
        border-radius: 8px;
        list-style: none;
    }
    .errornote {
        background: rgba(239, 68, 68, 0.15) !important;
        border-left: 4px solid var(--warn) !important;
        color: #fca5a5 !important;
        border-radius: 8px !important;
    }

    .breadcrumbs {
        background: transparent;
        border-bottom: 1px solid var(--border);
        padding: 12px 0 16px 0;
        margin-bottom: 20px;
        color: var(--muted);
    }
    .breadcrumbs a {
        color: var(--brand);
    }

    /* Floating close button */
    #custom-close-btn {
        position: fixed;
        top: 80px;
        right: 30px;
        background: var(--warn);
        color: white;
        font-size: 20px;
        font-weight: bold;
        border-radius: 50%;
        width: 32px;
        height: 32px;
        text-align: center;
        line-height: 32px;
        cursor: pointer;
        z-index: 1100;
        box-shadow: 0 3px 6px rgba(0,0,0,0.3);
        transition: background 0.2s;
    }
    #custom-close-btn:hover {
        background: #b91c1c;
    }
</style>
{% endblock %}

{% block content %}
<!-- Custom fixed header -->
<div style="position: fixed; top: 0; left: 0; right: 0; height: 70px; background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0)); border-bottom: 1px solid var(--border); z-index: 1000; display: flex; align-items: center; padding: 0 30px; backdrop-filter: blur(8px);">
    <div style="font-size: 24px; font-weight: 700; color: var(--brand);">üë®‚Äçüíº Admin Dashboard</div>
    <div style="margin-left: auto;">
        <a href="{% url 'admin:logout' %}" style="color: var(--brand); text-decoration: none; transition: 0.2s;">Logout</a>
    </div>
</div>

{% block messages %}
{% if messages %}
    <div class="messagelist">
        {% for message in messages %}
            <li>{{ message }}</li>
        {% endfor %}
    </div>
{% endif %}
{% endblock %}

<script>
document.addEventListener("DOMContentLoaded", function() {
    if (!document.getElementById("custom-close-btn")) {
        const closeBtn = document.createElement("div");
        closeBtn.id = "custom-close-btn";
        closeBtn.innerHTML = "&times;"; // √ó symbol

        Object.assign(closeBtn.style, {
            position: "fixed",
            top: "80px",
            right: "30px",
            background: "#ef4444",
            color: "white",
            fontSize: "20px",
            fontWeight: "bold",
            width: "32px",
            height: "32px",
            textAlign: "center",
            lineHeight: "32px",
            cursor: "pointer",
            borderRadius: "50%",
            zIndex: "1100",
            boxShadow: "0 3px 6px rgba(0,0,0,0.3)",
            transition: "background 0.2s"
        });

        closeBtn.addEventListener("mouseenter", () => closeBtn.style.background = "#b91c1c");
        closeBtn.addEventListener("mouseleave", () => closeBtn.style.background = "#ef4444");
        closeBtn.addEventListener("click", () => window.history.back());

        document.body.appendChild(closeBtn);
    }
});
</script>

{{ block.super }}
{% endblock %}
